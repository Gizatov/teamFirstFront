<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent">
        <div class="flex-1 min-w-0">
            <!-- Breadcrumbs -->
            <div class="flex flex-wrap items-center font-medium">
                <a class="whitespace-nowrap text-primary-500">Main</a>
            </div>
            <!-- Title -->
            <div class="mt-2">
                <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                    Main
                </h2>
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="p-6">
<!--        <mat-form-field class="min-w-50">-->
<!--            <mat-label>Filter</mat-label>-->
<!--            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia">-->
<!--        </mat-form-field>-->
        <div class="bg-white rounded-lg pt-1 border border-gray-300 dark:bg-transparent dark:border-gray-500">
            <div class="overflow-x-auto">
                <table class="w-full bg-transparent" mat-table [dataSource]="dataSource">

                    <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns">
                        <th mat-header-cell *matHeaderCellDef> {{column}} </th>
                        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
                    </ng-container>

                    <!-- Customize table second header row-->
                    <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumnsForFilter">
                        <th mat-header-cell *matHeaderCellDef class="pt-2">
                            <mat-form-field appearance="fill" class="w-full filter-col">
                                <input (change)="handleFilterValue(column, $event)"
                                       [(ngModel)]="filterValues[column]"
                                       [placeholder]="'Find by ' + column"
                                       matInput>
                            </mat-form-field>
                        </th>
                        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
                    </ng-container>

                    <!-- Table first header row-->
                    <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"
                        class="bg-white dark:bg-[#111729]" ></tr>
                    <!-- Table second header row-->
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsForFilter"
                        class="bg-white dark:bg-[#111729]"></tr>
                    <!-- Table data row-->
                    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"
                        class="hover:bg-[#F2F5F9] hover:dark:bg-[#1E2949]"></tr>
                    <!-- Table no data and loading row-->
                    <tr *matNoDataRow>
                        <ng-container *ngIf="!loading; else loadingRow">
                            <td class="text-center py-4 opacity-50 border-b" [colSpan]="columnsToDisplay.length">
                                <mat-icon [svgIcon]="'heroicons_outline:inbox'" class="dark:fill-white"></mat-icon><br/>
                                <span class="tracking-tight">No data matching the filter</span>
                            </td>
                        </ng-container>
                    </tr>
                </table>
            </div>

            <ng-template #loadingRow>
                <td class="px-6 py-4 border-b text-center" [colSpan]="columnsToDisplay.length">
                    <div class="flex justify-center mb-2">
                        <mat-spinner diameter="30"></mat-spinner><br>
                    </div>
                    <span>Loading data...</span>
                </td>
            </ng-template>

            <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                           showFirstLastButtons
                           class="bg-transparent"
                           aria-label="Select page of periodic elements">
            </mat-paginator>
        </div>
    </div>
</div>